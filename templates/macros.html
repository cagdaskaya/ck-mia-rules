{% macro render_rule(rule, index) %}
<tr>
  <td scope="row">{{ index + 1 }}</td>
  <th scope="row">{{ rule['action'] }}</th>
  <td>
    <div id="accordion" role="tablist">
      <div class="card">
        <div class="card-header" role="tab" id="headingSrc{{ index }}">
          <h5 class="mb-0">
            <a data-toggle="collapse" href="#collapse{{ index }}" aria-expanded="false" aria-controls="collapse{{ index }}">
              {% if rule['src'] %}
                {% if rule['src']['tags'] %}
                  <span class="font-weight-bold">NOT</span> {{ rule['src']['name'] }}
                {% else %}
                  {{ rule['src']['name'] }}
                {% endif %}
              {% else %}
                ANY
              {% endif %}
            </a>
          </h5>
        </div>
        <div id="collapse{{ index }}" class="collapse" role="tabpanel" aria-labelledby="headingSrc{{ index }}">
          <div class="card-body">
            {% if rule['src'] %}
              {% for j in rule['src']['vals'] %}
                {{ " ".join(j) }}<br>
              {% endfor %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </td>
  <td>
    <div id="accordion" role="tablist">
      <div class="card">
        <div class="card-header" role="tab" id="headingDst{{ index }}">
          <h5 class="mb-0">
            <a data-toggle="collapse" href="#collapse{{ index }}" aria-expanded="false" aria-controls="collapse{{ index }}">
              {% if rule['dst'] %}
                {% if rule['dst']['tags'] %}
                  <span class="font-weight-bold">NOT</span> {{ rule['dst']['name'] }}
                {% else %}
                  {{ rule['dst']['name'] }}
                {% endif %}
              {% else %}
                ANY
              {% endif %}
            </a>
          </h5>
        </div>
        <div id="collapse{{ index }}" class="collapse" role="tabpanel" aria-labelledby="headingDst{{ index }}">
          <div class="card-body">
            {% if rule['dst'] %}
              {% for j in rule['dst']['vals'] %}
                {{ " ".join(j) }}<br>
              {% endfor %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </td>
  <td>
    <div id="accordion" role="tablist">
      <div class="card">
        <div class="card-header" role="tab" id="headingDport{{ index }}">
          <h5 class="mb-0">
            <a data-toggle="collapse" href="#collapse{{ index }}" aria-expanded="false" aria-controls="collapse{{ index }}">
              {% if rule['dst_port'] %}
                {% if rule['dst_port']['tags'] %}
                  <span class="font-weight-bold">NOT</span> {{ rule['dst_port']['name'] }}
                {% else %}
                  {{ rule['dst_port']['name'] }}
                {% endif %}
              {% else %}
                ANY
              {% endif %}    
            </a>
          </h5>
        </div>
        <div id="collapse{{ index }}" class="collapse" role="tabpanel" aria-labelledby="headingDport{{ index }}">
          <div class="card-body">
            {% if rule['dst_port'] %}
              {% for j in rule['dst_port']['vals'] %}
                {{ " ".join(j) }}<br>
              {% endfor %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </td>
  <td>
    <div id="accordion" role="tablist">
      <div class="card">
        <div class="card-header" role="tab" id="headingDport{{ index }}">
          <h5 class="mb-0">
            <a data-toggle="collapse" href="#collapse{{ index }}" aria-expanded="false" aria-controls="collapse{{ index }}">
              {% if rule['http_method'] %}
                {% if rule['http_method']['tags'] %}
                  <span class="font-weight-bold">NOT</span> {{ rule['http_method']['name'] }}
                {% else %}
                  {{ rule['http_method']['name'] }}
                {% endif %}
              {% else %}
                ANY
              {% endif %}    
            </a>
          </h5>
        </div>
        <div id="collapse{{ index }}" class="collapse" role="tabpanel" aria-labelledby="headingDport{{ index }}">
          <div class="card-body">
            {% if rule['http_method'] %}
              {% for j in rule['http_method']['vals'] %}
                {{ " ".join(j) }}<br>
              {% endfor %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </td>
</tr>
{% endmacro %}